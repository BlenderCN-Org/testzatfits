{% extends "dev/base.html" %}
{% load staticfiles %}
{% block content %}
<head>
<script type="text/javascript" src="{% static 'web/scripts/geoloc.js' %}"></script>


</head>
<body onload="initialize()">
    <div class="container">
        <div class="header-wrapper">
            <div class="container-fluid">
                <div class="item streamdesc-wrapper">
                    <!-- This is the division for the carousel component-->
                    <div id="myCarousel" class="carousel slide fixed-top" data-ride="carousel">
                      <!-- Indicators -->
                      <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                        <li data-target="#myCarousel" data-slide-to="3"></li>
                        <li data-target="#myCarousel" data-slide-to="4"></li>
                      </ol>

                      <!-- Wrapper for slides -->
                      <div class="carousel-inner" role="listbox">
                        <div class="item active">
                          <img src="{% static 'web/files/images/car0.jpg' %}"  >
                        </div>

                        <div class="item">
                          <img src="{% static 'web/files/images/chachaaa.png' %}" >
                        </div>

                        <div class="item">
                          <img src="{% static 'web/files/images/car1.jpg' %}" >
                        </div>

                        <div class="item">
                          <img src="{% static 'web/files/images/car2.jpg' %}"  >
                        </div>

                        <div class="item">
                          <img src="{% static 'web/files/images/car3.jpg' %}" >
                        </div>
                      </div>

                      <!-- Left and right controls -->
                      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                      </a>
                      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                      </a>
                    </div>
                </div>
                <div class="row-fluid">

                            {% if user.is_authenticated %}
                            <!-- text division for news -->
                            <div class="col-md-8 sm-gutter" >
                                <div class="well normal-text sm-gutter"  style="min-height: 350px;">
                                    <span class="bold-text">News</span>
                                    <br/><br/>
                                    Advice me cousin an spring of needed. Tell use paid law ever yet new. Meant to learn of vexed if style allow he there. Tiled man stand tears ten joy there terms any widen. Procuring continued suspicion its ten. Pursuit brother are had fifteen distant has. Early had add equal china quiet visit. Appear an manner as no limits either praise in. In in written on charmed justice is amiable farther besides. Law insensible middletons unsatiable for apartments boy delightful unreserved.
                                </div>
                            </div>

                            <div class="col-md-4 sm-gutter" >
                                <!-- Div contenant le rendu WebGl -->

                                <div class="sm-video" , id="rendererWEBGL">
                                </div>

                            </div>

                            {% else %} <!-- if user not authenticated -->

                                <div class="col-md-5 sm-gutter" >
                                    <div class="well normal-text sm-gutter"  style="min-height: 350px;">
                                        <span class="bold-text">Welcome to Zatfits</span>
                                        <br/><br/>
                                        Advice me cousin an spring of needed. Tell use paid law ever yet new. Meant to learn of vexed if style allow he there. Tiled man stand tears ten joy there terms any widen. Procuring continued suspicion its ten. Pursuit brother are had fifteen distant has. Early had add equal china quiet visit. Appear an manner as no limits either praise in. In in written on charmed justice is amiable farther besides. Law insensible middletons unsatiable for apartments boy delightful unreserved.
                                    </div>
                                </div>
                                <!-- Div contenant le rendu WebGl -->
                                <div class="col-md-4 sm-gutter" >
                                    <div class="sm-video" , id="rendererWEBGL"></div>
                                </div>
                                <!-- Div for sign in and sign up buttons -->
                                <div class="col-md-3 sm-gutter" style="min-height: 350px">
                                    <div class="sm-gutter">
                                        <span class="bold-text">Sign up to create a custom model!</span>
                                        <a data-toggle="modal" data-target="#inscription"><button class="btn btn-primary btn-big">Sign up</button></a>
                                    </div>
                                    <div class="sm-gutter">
                                        <span class="bold-text">Or sign up if already a member</span>
                                        <a data-toggle="modal" data-target="#login"><button class="btn btn-primary btn-big">Sign in</button></a>
                                    </div>
                                </div>



                                {% if loginform.errors %}
                                <script type="text/javascript">
                                    $(window).load(function(){
                                        $('#login').modal('show');
                                    });

                                </script>
                                {% endif %}
                                <!-- Modal -->
                                <div class="modal fade" id="login" tabindex="-1" role="dialog"
                                     aria-labelledby="myModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal"><span
                                                        aria-hidden="true">&times;</span><span class="sr-only">Close</span>
                                                </button>
                                                <h4 class="modal-title" id="myModalLabel">Log in</h4>
                                            </div>
                                            <form action="/dev/login/" method="post">
                                                {% csrf_token %}
                                                <div class="modal-body">
        -                                            {{ loginform }}
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close
                                                    </button>
                                                    <button class="btn btn-primary">Connexion</button>
                                                </div>
                                            </form>

                                        </div>
                                    </div>
                                </div>



                                {% if subscriptionform.errors %}
                                <script type="text/javascript">
                                    $(window).load(function(){
                                        $('#inscription').modal('show');
                                    });

                                </script>
                                {% endif %}
                                <!-- Modal -->
                                <div class="modal fade" id="inscription" tabindex="-1" role="dialog"
                                     aria-labelledby="myModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal"><span
                                                        aria-hidden="true">&times;</span><span class="sr-only">Close</span>
                                                </button>
                                                <h4 class="modal-title" id="myModalLabel">Inscription</h4>
                                            </div>
                                            <form action="/dev/subscription" method="post">
                                                {% csrf_token %}
                                                <div class="modal-body">
                                                    <img src="{% static 'web/files/images/fb_sign_up.png' %}" width="230" height="50"/><br/><br/>
        -                                                {{ subscriptionform }}
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Fermer
                                                    </button>
                                                    <button class="btn btn-primary">Inscription</button>
                                                </div>
                                            </form>

                                        </div>
                                    </div>
                                </div>




                            {% endif %}
                        </div>


                </div>

            <script type="text/javascript" src="{% static 'web/js/index.js' %}"></script>

            <!-- Bibliotheque Three.js   -->
            <script type="text/javascript" src="{% static 'web/js/three/build/three.js' %}"></script>
            <!-- Gestion de la souris -->
            <script type="text/javascript" src="{% static 'web/js/three/examples/js/controls/OrbitControls.js' %}"></script>
            <script type="text/javascript" src="{% static 'web/js/three/examples/js/controls/TrackballControls.js' %}"></script>

            <!-- Pour la detection de si on peut utiliser le WebGL -->
            <script type="text/javascript" src="{% static 'web/js/three/examples/js/Detector.js' %}"></script>
            <!-- Pour le chargement d'objet collada -->
            <script type="text/javascript" src="{% static 'web/js/three/examples/js/loaders/ColladaLoader.js' %}"></script>

            <document type="xml" src="selectors.xml" id="select"></document>
            {% if user.is_authenticated %}
            <script type="text/javascript">
                var address="../private/user_models/{{user.id}}/{{user.id}}.dae ";
                var default_address="{% static 'web/files/humanMale.dae' %}";
            </script>
            {% else %}
            <script type="text/javascript">
                var address="{% static 'web/files/humanMale.dae' %}";
            </script>
            {% endif %}

            <script type="text/javascript" src="{% static 'web/scripts/WebGL.js' %}"></script>
            {% endblock %}
        </div>
    </div>
</body>
